<div class='flex items-center bg-t-grey-bg'>
  <div class='relative flex-grow'>
      <div
        class='flex flex-grow flex-shrink-0 flex-wrap w-full gap-x-4 items-center justify-center h-auto text-center py-1 px-2 md:px-12'
      >
        {% if section.settings.link %}
          <a href="{{ section.settings.link }}">
            {{ section.settings.text }}
          </a>
        {% else %}
          <p>
            {{ section.settings.text }}
          </p>
        {% endif %}
      </div>
  </div>

  {% assign menu = linklists[section.settings.menu] %}
  <div class='hidden lg:flex items-center gap-[25px] pr-4 z-10'>
    {% if menu.links.size > 0 %}
      {% for link in menu.links %}
        <a href='{{ link.url }}' class='text-sm hover:underline'>
          {{ link.title }}
        </a>
      {% endfor %}
    {% endif %}
    {% render 'i18n-select', type: 'currency' %}
  </div>
</div>

{% schema %}
{
  "name": "Announcement Bar",
  "class": "relative announcement-bar-wrapper",
  "settings": [
    {
      "type": "number",
      "label": "Autoplay Delay (ms)",
      "info": "Autoplay delay in milliseconds. Set to 0 to disable autoplay.",
      "id": "autoplay_delay",
      "default": 3000
    },
    {
      "type": "inline_richtext",
      "id": "text",
      "default": "Welcome to our store",
      "label": "Announcement Text"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link URL"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu"
    }
  ],
  "presets": [
    {
      "name": "Announcement Bar"
    }
  ]
}
{% endschema %}
