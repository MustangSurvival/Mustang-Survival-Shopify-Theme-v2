<a
  aria-haspopup='dialog'
  aria-controls='cart-drawer-dialog'
  href='{{ routes.cart_url }}'
  class='inline-flex place-items-center relative'
  id='cart-icon-bubble'
>
  {%- liquid
    if cart == empty
      render 'icon' with 'icon-cart-empty', size: 38
    else
      render 'icon' with 'icon-cart', size: 38
    endif
  -%}
  <span class='sr-only'>{{ 'templates.cart.cart' | t }}</span>
  <div class='empty:hidden absolute bg-p-brand-01 text-t-brand-primary-contrast rounded-full inline-flex items-center justify-center -top-1 -right-1 w-4 h-4 text-center text-xs leading-none'>
    {%- render '@needs-script', entries: 'component-cart-total' -%}
    {%- comment %} Restored original translation key format {%- endcomment %}
    <cart-total
      translation='{ "cart_count": {{ 'sections.header.cart_count' | t: count: '###count###' | json }} }'
    >
      <span class='sr-only'>{{ 'sections.header.cart_count' | t: count: cart.item_count }}</span>
    </cart-total>
  </div>
</a>
